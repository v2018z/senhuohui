{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.test.js","webpack:///./src/assets/page-title.png","webpack:///./src/views/Login.vue?7d41","webpack:///./src/constance.ts","webpack:///./src/store.ts","webpack:///./src/assets/notice.png","webpack:///./src/views/Login.vue?8e1d","webpack:///./src/views/Login.vue?6501","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e73f","webpack:///./src/views/Login.vue?24a5","webpack:///./src/assets/logo.png"],"names":["$","global","call","uncurryThis","isCallable","isObject","DELEGATES_TO_EXEC","execCalled","re","exec","apply","this","arguments","test","Error","un$Test","target","proto","forced","str","result","module","exports","STORAGE_KEY","data","window","localStorage","getItem","JSON","parse","error","phone","setItem","stringify","render","_vm","_h","$createElement","_c","_self","staticClass","_m","attrs","on","onSubmit","onFormFailed","required","message","validator","validatorPhone","model","value","callback","$$v","expression","validatorCaptcha","captcha","sendCaptchaStatus","sendCaptcha","_e","_v","_s","time","submitting","staticRenderFns","longTime","val","login","$toast","force","$route","query","$xhr","api","get","params","code","is_swfc","post","timer","setInterval","clearInterval","console","log","$router","push","name","errorInfo","errors","validFied","components","Submit","component"],"mappings":"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","file":"js/login.cdd3831c.js","sourcesContent":["'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar Error = global.Error;\nvar un$Test = uncurryThis(/./.test);\n\n// `RegExp.prototype.test` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.test\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    var exec = this.exec;\n    if (!isCallable(exec)) return un$Test(this, str);\n    var result = call(exec, this, str);\n    if (result !== null && !isObject(result)) {\n      throw new Error('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=77532268&scoped=true&lang=scss&\"","export const STORAGE_KEY = 'SENHUOHUI_2023_2';\n\nexport interface StorageLogin {\n  phone: string;\n}\n","import { STORAGE_KEY, StorageLogin } from './constance';\n\nexport const getStorage = (): StorageLogin | null => {\n  const data = window.localStorage.getItem(STORAGE_KEY) as string;\n  try {\n    return data && JSON.parse(data) || {};\n  } catch (error) {\n    return null;\n  }\n};\n\nexport const setPhone = (phone: string) => {\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify({ phone }));\n};\n","module.exports = __webpack_public_path__ + \"img/notice.ddc006cf.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contianer\"},[_c('div',{staticClass:\"bg\"},[_c('div',{staticClass:\"decorate-top\"}),_c('div',{staticClass:\"wrap\"},[_vm._m(0),_c('div',{staticClass:\"form-wrap\"},[_c('van-form',{attrs:{\"show-error-message\":false,\"validate-first\":true},on:{\"submit\":_vm.onSubmit,\"failed\":_vm.onFormFailed}},[_c('div',{staticClass:\"form-field-wrap\"},[_c('van-field',{attrs:{\"name\":\"phone\",\"placeholder\":\"请输入手机号\",\"rules\":[\n                { required: true, message: '请填写手机号' },\n                { validator: _vm.validatorPhone, message: '请输入正确的手机号' }]},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_c('van-field',{attrs:{\"name\":\"captcha\",\"placeholder\":\"请输入验证码\",\"rules\":[\n                { required: true, message: '请填写验证码' },\n                { validator: _vm.validatorCaptcha, message: '请输入正确的验证码' }]},model:{value:(_vm.captcha),callback:function ($$v) {_vm.captcha=$$v},expression:\"captcha\"}}),_c('div',{staticClass:\"captcha-wrap\"},[_c('van-button',{staticClass:\"captcha-button\",attrs:{\"disabled\":_vm.sendCaptchaStatus,\"native-type\":\"button\"},on:{\"click\":_vm.sendCaptcha}},[(!_vm.sendCaptchaStatus)?_c('span',[_vm._v(\"发送验证码\")]):_vm._e(),(_vm.sendCaptchaStatus)?_c('span',[_vm._v(\" \"+_vm._s(_vm.time)+\" 秒后重新发送\")]):_vm._e()])],1)],1),_c('div',{staticClass:\"submit-wrap\"},[_c('submit',{staticClass:\"submit-button\",attrs:{\"loading\":_vm.submitting,\"submit\":\"\",\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\",\"text\":\"提交\"}})],1)])],1),_vm._m(1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-title-wrap\"},[_c('img',{staticClass:\"page-title\",attrs:{\"src\":require(\"../assets/page-title.png\"),\"alt\":\"2021年圣诞节线上抽奖会\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"footer\"},[_c('img',{staticClass:\"notice\",attrs:{\"src\":require(\"../assets/notice.png\"),\"alt\":\"温馨提示\"}}),_c('div',{staticClass:\"logo-wrap\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../assets/logo.png\"),\"alt\":\"logo\"}})])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport Submit from '../components/Submit.vue';\nimport { setPhone } from '../store';\n\nconst longTime = 60;\n\n@Component({\n  name: 'Home',\n  components: {\n    Submit,\n  },\n})\nexport default class Login extends Vue {\n  phone = '';\n\n  captcha = '';\n\n  time = longTime;\n\n  sendCaptchaStatus = false;\n\n  submitting = false;\n\n  validatorPhone(val: string) {\n    return /^(?:(?:\\+|00)86)?1\\d{10}$/.test(val);\n  }\n\n  validatorCaptcha(val: string) {\n    return /^\\d{1,}$/.test(val);\n  }\n\n  onSubmit() {\n    // todo submit\n    this.login();\n  }\n\n  async sendCaptcha() {\n    if (!this.phone) {\n      this.$toast('请填写手机号');\n      return;\n    }\n    if (!this.validatorPhone(this.phone)) {\n      this.$toast('请输入正确的手机号');\n      return;\n    }\n    try {\n      const { force } = this.$route.query;\n      if (!force) {\n        const data = await this.$xhr.api.get('/rework/query_swfc_by_phone', {\n          params: {\n            phone: this.phone,\n          },\n        });\n        if (data.code == 200) {\n          if (!data.data.is_swfc) {\n            this.$toast('您还不是森活汇会员');\n            return;\n          }\n        } else {\n          this.$toast(data.message || '网络不给力');\n          return;\n        }\n      }\n      try {\n        await this.$xhr.api.post('/rework/sendCaptcha', {\n          params: {\n            phone: this.phone,\n          },\n        });\n        this.sendCaptchaStatus = true;\n        this.$toast('验证码已发送到您的手机');\n        const timer = setInterval(() => {\n          this.time -= 1;\n          if (this.time == 0) {\n            clearInterval(timer);\n            this.sendCaptchaStatus = false;\n            this.time = longTime;\n          }\n        }, 1000);\n      } catch (error) {\n        this.$toast('验证码发送失败');\n      }\n    } catch (error) {\n      this.sendCaptchaStatus = false;\n      console.log('__LYG_JAX', error); // debug-log\n      // eslint-disable-next-line\n      // @ts-ignore\n      this.$toast(error && error.message);\n    }\n  }\n\n  async login() {\n    try {\n      if (this.submitting) return;\n      this.submitting = true;\n      const data = await this.$xhr.api.post('/rework/login', {\n        params: {\n          phone: this.phone,\n          captcha: this.captcha,\n        },\n      });\n      this.$router.push({ name: 'success', params: { data } });\n      setPhone(this.phone);\n    } catch (error) {\n      // eslint-disable-next-line\n      // @ts-ignore\n      if (error && error.code == -300) {\n        this.$router.push({ name: 'failure' });\n        return;\n      }\n      // eslint-disable-next-line\n      // @ts-ignore\n      this.$toast(error && error.message || '服务器开小差了！');\n    } finally {\n      this.submitting = false;\n    }\n  }\n\n  onFormFailed(errorInfo: any) {\n    const { errors } = errorInfo;\n    const validFied = errors[0];\n    this.$toast(validFied.message);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=77532268&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=ts&\"\nexport * from \"./Login.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=77532268&scoped=true&lang=scss&\"\nimport style1 from \"./Login.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77532268\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/logo.2d88090b.png\";"],"sourceRoot":""}