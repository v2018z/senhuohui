(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"00b4":function(t,e,a){"use strict";a("ac1f");var r=a("23e7"),s=a("da84"),n=a("c65b"),i=a("e330"),c=a("1626"),o=a("861d"),u=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),f=s.Error,p=i(/./.test);r({target:"RegExp",proto:!0,forced:!u},{test:function(t){var e=this.exec;if(!c(e))return p(this,t);var a=n(e,this,t);if(null!==a&&!o(a))throw new f("RegExp exec method returned something other than an Object or null");return!!a}})},"0fba":function(t,e){t.exports="data:image/png;base64,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"},"19c5":function(t,e,a){},3858:function(t,e,a){"use strict";a("4d5f")},"3a0b":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return n}));a("e9c4");var r="SENHUOHUI_2023_2",s=function(){var t=window.localStorage.getItem(r);try{return t&&JSON.parse(t)||{}}catch(e){return null}},n=function(t){window.localStorage.setItem(r,JSON.stringify({phone:t}))}},"4d5f":function(t,e,a){},"818f":function(t,e,a){t.exports=a.p+"img/notice.ddc006cf.png"},"97b0":function(t,e,a){"use strict";a("19c5")},a55b:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contianer"},[a("div",{staticClass:"bg"},[a("div",{staticClass:"decorate-top"}),a("div",{staticClass:"wrap"},[t._m(0),a("div",{staticClass:"form-wrap"},[a("van-form",{attrs:{"show-error-message":!1,"validate-first":!0},on:{submit:t.onSubmit,failed:t.onFormFailed}},[a("div",{staticClass:"form-field-wrap"},[a("van-field",{attrs:{name:"phone",placeholder:"请输入手机号",rules:[{required:!0,message:"请填写手机号"},{validator:t.validatorPhone,message:"请输入正确的手机号"}]},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),a("van-field",{attrs:{name:"captcha",placeholder:"请输入验证码",rules:[{required:!0,message:"请填写验证码"},{validator:t.validatorCaptcha,message:"请输入正确的验证码"}]},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}}),a("div",{staticClass:"captcha-wrap"},[a("van-button",{staticClass:"captcha-button",attrs:{disabled:t.sendCaptchaStatus,"native-type":"button"},on:{click:t.sendCaptcha}},[t.sendCaptchaStatus?t._e():a("span",[t._v("发送验证码")]),t.sendCaptchaStatus?a("span",[t._v(" "+t._s(t.time)+" 秒后重新发送")]):t._e()])],1)],1),a("div",{staticClass:"submit-wrap"},[a("submit",{staticClass:"submit-button",attrs:{loading:t.submitting,submit:"",round:"",block:"",type:"info","native-type":"submit",text:"提交"}})],1)])],1),t._m(1)])])])},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg-title-wrap"},[r("img",{staticClass:"page-title",attrs:{src:a("0fba"),alt:"2021年圣诞节线上抽奖会"}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"footer"},[r("img",{staticClass:"notice",attrs:{src:a("818f"),alt:"温馨提示"}}),r("div",{staticClass:"logo-wrap"},[r("img",{staticClass:"logo",attrs:{src:a("cf05"),alt:"logo"}})])])}],n=a("1da1"),i=a("d4ec"),c=a("bee2"),o=a("262e"),u=a("2caf"),f=(a("96cf"),a("ac1f"),a("00b4"),a("9ab4")),p=a("60a3"),l=a("1995"),h=a("3a0b"),b=60,d=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.phone="",t.captcha="",t.time=b,t.sendCaptchaStatus=!1,t.submitting=!1,t}return Object(c["a"])(a,[{key:"validatorPhone",value:function(t){return/^(?:(?:\+|00)86)?1\d{10}$/.test(t)}},{key:"validatorCaptcha",value:function(t){return/^\d{1,}$/.test(t)}},{key:"onSubmit",value:function(){this.login()}},{key:"sendCaptcha",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,r,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.phone){t.next=3;break}return this.$toast("请填写手机号"),t.abrupt("return");case 3:if(this.validatorPhone(this.phone)){t.next=6;break}return this.$toast("请输入正确的手机号"),t.abrupt("return");case 6:if(t.prev=6,e=this.$route.query.force,e){t.next=20;break}return t.next=11,this.$xhr.api.get("/rework/query_swfc_by_phone",{params:{phone:this.phone}});case 11:if(a=t.sent,200!=a.code){t.next=18;break}if(a.data.is_swfc){t.next=16;break}return this.$toast("您还不是森活汇会员"),t.abrupt("return");case 16:t.next=20;break;case 18:return this.$toast(a.message||"网络不给力"),t.abrupt("return");case 20:return t.prev=20,t.next=23,this.$xhr.api.post("/rework/sendCaptcha",{params:{phone:this.phone}});case 23:this.sendCaptchaStatus=!0,this.$toast("验证码已发送到您的手机"),r=setInterval((function(){s.time-=1,0==s.time&&(clearInterval(r),s.sendCaptchaStatus=!1,s.time=b)}),1e3),t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](20),this.$toast("验证码发送失败");case 31:t.next=38;break;case 33:t.prev=33,t.t1=t["catch"](6),this.sendCaptchaStatus=!1,console.log("__LYG_JAX",t.t1),this.$toast(t.t1&&t.t1.message);case 38:case"end":return t.stop()}}),t,this,[[6,33],[20,28]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"login",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!this.submitting){t.next=3;break}return t.abrupt("return");case 3:return this.submitting=!0,t.next=6,this.$xhr.api.post("/rework/login",{params:{phone:this.phone,captcha:this.captcha}});case 6:e=t.sent,this.$router.push({name:"success",params:{data:e}}),Object(h["b"])(this.phone),t.next=17;break;case 11:if(t.prev=11,t.t0=t["catch"](0),!t.t0||-300!=t.t0.code){t.next=16;break}return this.$router.push({name:"failure"}),t.abrupt("return");case 16:this.$toast(t.t0&&t.t0.message||"服务器开小差了！");case 17:return t.prev=17,this.submitting=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[0,11,17,20]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"onFormFailed",value:function(t){var e=t.errors,a=e[0];this.$toast(a.message)}}]),a}(p["c"]);d=Object(f["a"])([Object(p["a"])({name:"Home",components:{Submit:l["a"]}})],d);var v=d,m=v,g=(a("3858"),a("97b0"),a("2877")),x=Object(g["a"])(m,r,s,!1,null,"77532268",null);e["default"]=x.exports},cf05:function(t,e,a){t.exports=a.p+"img/logo.2d88090b.png"}}]);
//# sourceMappingURL=login.2b6ee82a.js.map